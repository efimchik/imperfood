/*
 * Custom
 */
$(document).ready(function(){
	
	//init menu header
	$('.header__btn').on('click', function() {
		$(this).toggleClass('header__btn--active');
		$('.header__right').toggleClass('header__right--show');
	});
	
	$(window).resize(function() {
	    if($(window).width() >= 1024){
	        $('.header__btn').removeClass('header__btn--active');
	        $('.header__right').removeClass('header__right--show');
	    }
	});
	
	//init slick slider modules
	
	//init slick slider clients module
	
	$('.slider__list-clients').slick({
		slidesToShow: 8,
		slidesToScroll: 1,
		dots: true,
		responsive: [{
			breakpoint: 1326,
			settings: {
				slidesToShow: 6
			}
		},{
			breakpoint: 1024,
			settings: {
				slidesToShow: 4
			}
		},{
			breakpoint: 650,
			settings: {
				slidesToShow: 3
			}
		},{
			breakpoint: 540,
			settings: {
				slidesToShow: 2
			}
		},{
			breakpoint: 380,
			settings: {
				slidesToShow: 1
			}
		}]
	});
	
	
	
	//init slick slider provider module
	
	$('.slider__list-provider').slick({
		slidesToShow: 8,
		slidesToScroll: 8,
		dots: true,
		responsive: [{
			breakpoint: 1326,
			settings: {
				slidesToShow: 6,
				slidesToScroll: 6
			}
		},{
			breakpoint: 1024,
			settings: {
				slidesToShow: 4,
				slidesToScroll: 4
			}
		},{
			breakpoint: 650,
			settings: {
				slidesToShow: 3,
				slidesToScroll: 3
			}
		},{
			breakpoint: 540,
			settings: {
				slidesToShow: 2,
				slidesToScroll: 2
			}
		},{
			breakpoint: 380,
			settings: {
				slidesToShow: 1,
				slidesToScroll: 1
			}
		}]
	});
	
	
	
	//init slick slider news module
	
	$('.slider__list-news').slick({
		slidesToShow: 1,
		slidesToScroll: 1,
		dots: true
	});
	
	
	
	//init slick slider contacts module
	
	$('.slider__list-contacts').slick({
		slidesToShow: 4,
		slidesToScroll: 1,
		dots: true,
		responsive: [{
			breakpoint: 1326,
			settings: {
				slidesToShow: 3
			}
		},{
			breakpoint: 1024,
			settings: {
				slidesToShow: 2
			}
		},{
			breakpoint: 767,
			settings: {
				slidesToShow: 1
			}
		}]
	});
	
	
	
	//init slick slider home module
	
	var $slider = $('.slider__list-home');
	var $progressBarLabel = $( '.slider__label' );
	var $progressHeight = $( '.progress' ).height();
	
	$slider.on('init', function(event, slick) {
		var slidesCount = slick.slideCount;
		$progressBarLabel.css('height', $progressHeight/slidesCount + 'px');
	});
	
	$slider.on('beforeChange', function(event, slick, currentSlide, nextSlide) {
	    var calc = ( ($progressHeight)/slick.slideCount * nextSlide);
	    $progressBarLabel.css('top', calc);
	});
	
	$slider.slick({
		slidesToShow: 1,
		slidesToScroll: 1,
		dots: true,
		autoplay: true,
		autoplaySpeed: 5000,
		arrows: false
	});
	
	
	
	//init slick slider catalog module
	
	$('.slider__list-catalog').slick({
		slidesToShow: 4,
		slidesToScroll: 1,
		dots: true,
		responsive: [{
			breakpoint: 1210,
			settings: {
				slidesToShow: 3
			}
		},{
			breakpoint: 1024,
			settings: {
				slidesToShow: 2
			}
		},{
			breakpoint: 651,
			settings: {
				slidesToShow: 1
			}
		}]
	});
	
	
	
	//init slick slider product module
	
	 $('.slider__view').slick({
		slidesToShow: 1,
		slidesToScroll: 1,
		arrows: false,
		fade: true,
		asNavFor: '.slider__prev'
	});
	
	$('.slider__prev').slick({
		slidesToShow: 3,
		slidesToScroll: 1,
		asNavFor: '.slider__view',
		dots: false,
		focusOnSelect: true,
		vertical: true
	});
	
	
	//init tabs
	
	$('.tabs__list').on('click', 'li:not(.tabs__list-item--show)', function() {
	    $(this)
	      .addClass('tabs__list-item--show').siblings().removeClass('tabs__list-item--show')
	      .closest('.tabs').find('.tabs__content-item').removeClass('tabs__content-item--show').eq($(this).index()).addClass('tabs__content-item--show');
	  });
});


//init map
var contact_map;

ymaps.ready(function(){
	contact_map = new ymaps.Map("map", {
	    center: [53.92061522716713,27.552275322722313],
	    zoom: 15,
	    controls: []
	});

	contact_map.behaviors.disable('scrollZoom');

	myPlacemark = new ymaps.Placemark([53.91924726795219,27.548455857084466], {}, {
		iconLayout: 'default#image',
		iconImageHref: 'img/general/baloon-map.png',
		iconImageSize: [84, 87],
		iconImageOffset: [-42, -82]
	});

	contact_map.geoObjects.add(myPlacemark);
});